* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'PingFang SC', 'Helvetica Neue', Arial, sans-serif;
}

/* éšè—é«˜å¾·åœ°å›¾logoå’Œç‰ˆæƒä¿¡æ?*/
.amap-logo {
    display: none !important;
    opacity: 0 !important;
}
.amap-copyright {
    display: none !important;
    opacity: 0 !important;
}
.BMap_cpyCtrl {
    display: none !important;
}
.anchorBL {
    display: none !important;
}

body {
    background-color: #f5f5f5;
    color: #333;
    overflow: hidden;
    width: 100vw;
    height: 100vh;
}

.container {
    width: 100vw;
    height: 100vh;
    display: flex;
    flex-direction: column;
    position: relative;
    max-width: 480px;
    margin: 0 auto;
    background: linear-gradient(to bottom, #FFFFFF 0%, #DBE9FC 100%);
    overflow: hidden;
}

/* çŠ¶æ€æ  */
.status-bar {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 8px 20px;
    background-color: white;
    font-size: 14px;
    font-weight: 600;
    border-bottom: 1px solid #e0e0e0;
    height: 44px;
    z-index: 10;
}

.time {
    color: #000;
}

.status-icons {
    display: flex;
    gap: 5px;
    color: #000;
}

/* å¤´éƒ¨ */
.header {
    display: flex;
    justify-content: center;
    align-items: center;
    padding: 12px 20px;
    background-color: white;
    border-bottom: 1px solid #e0e0e0;
    height: 56px;
    z-index: 10;
}

.header h1 {
    font-size: 18px;
    font-weight: 600;
    color: #000;
}

/* åœ°å›¾å®¹å™¨ */
#map-container {
    flex: 1;
    position: relative;
    overflow: hidden;
    min-height: 0;
}

/* æœç´¢åŒºåŸŸ */
.search-container {
    position: absolute;
    top: 20px;
    left: 20px;
    right: 20px;
    z-index: 80; /* è°ƒæ•´åˆ°åº•éƒ¨å¡ç‰‡ä¸‹ä¸€å±?*/
    /* å®¹å™¨æœ¬èº«é€æ˜ï¼Œåªè´Ÿè´£å®šä½ */
}

.search-box {
    display: flex;
    align-items: center;
    gap: 10px;
    /* æ”¹ä¸ºåŠé€æ˜èƒŒæ™¯ */
    background: rgba(255, 255, 255, 0.8);
    border-radius: 12px;
    padding: 12px 15px;
    /* æ›´å°ã€æ›´æŸ”å’Œçš„é˜´å½?*/
    box-shadow: 0 2px 8px rgba(44, 136, 255, 0.5);
}

.search-icon {
    color: #999;
    font-size: 16px;
}

.search-icon-img {
    width: 20px;
    height: 20px;
    object-fit: contain;
}

.search-box input {
    flex: 1;
    border: none;
    background: none;
    outline: none;
    font-size: 16px;
    color: #333;
}

.search-box input::placeholder {
    color: #999;
}

/* æœç´¢ç»“æœ */
.search-results {
    position: absolute;
    top: 100%;
    left: 0;
    right: 0;
    background: white;
    border-radius: 0 0 12px 12px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.15);
    z-index: 1000;
    max-height: 300px;
    overflow-y: auto;
    display: none;
    margin-top: 5px;
}

.search-results.active {
    display: block;
}

/* æœç´¢ç»“æœåˆ†ç±»æ ‡é¢˜ */
.search-section {
    border-bottom: 1px solid #f0f0f0;
}

.search-section-title {
    padding: 8px 16px;
    background-color: #f8f9fa;
    font-size: 12px;
    font-weight: 600;
    color: #666;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    position: sticky;
    top: 0;
    z-index: 1001;
}

.search-result-item {
    display: flex;
    align-items: center;
    padding: 12px 16px;
    border-bottom: 1px solid #f0f0f0;
    cursor: pointer;
    gap: 12px;
    transition: all 0.2s ease;
}

.search-result-item:hover {
    background-color: #f8f8f8;
}

.search-result-item:last-child {
    border-bottom: none;
}

/* æœç´¢ç»“æœæ“ä½œæŒ‰é’® */
.result-actions {
    display: flex;
    gap: 8px;
    margin-left: auto;
}

.result-action-btn {
    width: 36px;
    height: 36px;
    background: #f0f0f0;
    border: none;
    border-radius: 8px;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: all 0.2s ease;
    padding: 0;
}

.result-action-btn:hover {
    background: #e0e0e0;
    transform: scale(1.05);
}

.result-action-btn:active {
    transform: scale(0.95);
}

.result-action-btn img {
    width: 20px;
    height: 20px;
    object-fit: contain;
}

/* KMLç»“æœç‰¹æ®Šæ ·å¼ */
.search-result-item.kml-result {
    background-color: #ffffff;
    border-left: 3px solid #d0d0d0;
}

.search-result-item.kml-result:hover {
    background-color: #f8f8f8;
    border-left-color: #a0a0a0;
}

/* POIç»“æœæ ·å¼ */
.search-result-item.poi-result:hover {
    background-color: #f0f8ff;
}

.result-icon {
    font-size: 16px;
    width: 24px;
    text-align: center;
    flex-shrink: 0;
}

.result-content {
    flex: 1;
    min-width: 0;
}

.result-name {
    font-weight: 500;
    color: #333;
    font-size: 14px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.result-address {
    font-size: 12px;
    color: #666;
    margin-top: 2px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

/* ç©ºçŠ¶æ€æ ·å¼?*/
.search-result-item:only-child {
    text-align: center;
    color: #999;
    font-style: italic;
}

.search-result-item small {
    display: block;
    margin-top: 4px;
    font-size: 11px;
    color: #bbb;
}

/* åº•éƒ¨å¡ç‰‡ */
.bottom-card {
    position: absolute;
    bottom: 60px; /* ç´§è´´å¯¼èˆªæ ä¸Šæ–?*/
    left: 0;
    right: 0;
    z-index: 110;
    background: linear-gradient(to bottom, #FFFFFF 0%, #DBE9FC 100%);
    border-radius: 20px 20px 0 0;
    padding: 20px 0 0 0; /* åªä¿ç•™é¡¶éƒ¨å†…è¾¹è·ï¼Œåº•éƒ¨æ— å†…è¾¹è·ä¸å¯¼èˆªæ æ— ç¼è¿æ?*/
    box-shadow: none;
    max-width: 480px;
    margin: 0 auto;
    min-height: 120px; /* è®¾ç½®æœ€å°é«˜åº¦ï¼Œé¿å…å†…å®¹å°‘æ—¶ç¦»å¯¼èˆªæ å¤ªè¿œ */
}

/* å¯¼èˆªé¡µé¢åº•éƒ¨å¡ç‰‡ï¼šä¸åº•éƒ¨å¡ç‰‡ä¿æŒä¸€è‡´çš„æ¸å˜ä¸åœ†è§’æ ·å¼?*/
.navigation-card {
    position: absolute;
    bottom: 60px;
    left: 0;
    right: 0;
    z-index: 110;
    background: linear-gradient(to bottom, #FFFFFF 0%, #DBE9FC 100%);
    border-radius: 20px 20px 0 0;
    padding: 20px 70px 20px 20px;
    box-shadow: none;
}

/* å¯¼èˆªé¡µèµ·ç‚¹è¾“å…¥å ä½ç¬¦è“è‰²ï¼Œä¸å…¶å®ƒé¡µé¢ä¿æŒä¸€è‡?*/
#nav-start-location::placeholder {
    color: #2A86FF;
}

/* è·¯çº¿è§„åˆ’ç•Œé¢ */
.route-planning-section {
    display: block;
    position: static;
}

.route-planning-section.hidden {
    display: none;
}

/* ç§»é™¤äºŒæ®µç›¸å…³æ ·å¼ */
.point-selection-section {
    display: none;
}

.bottom-card.expanded {
    transform: none;
}

.bottom-card.expanded .point-selection-section {
    display: none;
}

.panel-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 8px 15px;
    border-bottom: 1px solid #f0f0f0;
    background-color: #f8f9fa;
    margin: -20px -20px 10px -20px;
    border-radius: 20px 20px 0 0;
}

.panel-title {
    font-size: 14px;
    font-weight: 600;
    color: #333;
}

.panel-close {
    background: none;
    border: none;
    font-size: 16px;
    color: #666;
    cursor: pointer;
    padding: 2px;
    border-radius: 4px;
    width: 24px;
    height: 24px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.panel-close:hover {
    background-color: #e0e0e0;
}

.points-container {
    height: 100%; /* å æ»¡æ•´ä¸ªäºŒæ®µåŒºåŸŸ */
    overflow-y: auto;
    padding: 0;
}

.points-section {
    margin-bottom: 8px;
}

.section-title {
    padding: 6px 15px;
    font-size: 11px;
    font-weight: 600;
    color: #666;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    background-color: #f8f9fa;
    border-bottom: 1px solid #f0f0f0;
}

.points-list {
    max-height: 45vh; /* ä½¿ç”¨è§†çª—é«˜åº¦çš„æ¯”ä¾‹ï¼Œé€‚åº”ä¸åŒå±å¹•å°ºå¯¸ */
    overflow-y: auto;
}

.point-item {
    display: flex;
    align-items: center;
    padding: 6px 15px;
    border-bottom: 1px solid #f0f0f0;
    cursor: pointer;
    gap: 10px;
    transition: background-color 0.2s ease;
}

.point-item:hover {
    background-color: #f8f9fa;
}

.point-item:last-child {
    border-bottom: none;
}

.point-icon {
    font-size: 12px;
    width: 16px;
    text-align: center;
}

.point-content {
    flex: 1;
    min-width: 0;
}

.point-name {
    font-weight: 500;
    color: #333;
    font-size: 12px;
    line-height: 1.3;
}

.point-address {
    font-size: 10px;
    color: #666;
    margin-top: 1px;
    line-height: 1.2;
}

/* KMLç‚¹ä½ç‰¹æ®Šæ ·å¼ */
.point-item.kml-point {
    background-color: #ffffff;
}

.point-item.kml-point:hover {
    background-color: #f8f8f8;
}

.point-item.kml-point .point-icon {
    color: #888888;
}

.route-selector {
    display: block;
    position: static;
    padding-left: 4%; /* æ”¹ç”¨paddingï¼Œè®©èƒŒæ™¯è‰²å»¶ä¼¸åˆ°è¾¹ç¼˜ */
    padding-right: 15%; /* å³ä¾§ç»™é€”å¾„ç‚¹æŒ‰é’®åŒºåŸ?*/
    padding-bottom: 20px; /* åº•éƒ¨å†…è¾¹è·ï¼Œä¸å¯¼èˆªæ ä¿æŒé—´è· */
}

.location-inputs-wrapper {
    width: 100%; /* å æ»¡ route-selector çš„å®½åº?(76%) */
    border: 1px solid #e6e9ef;
    border-radius: 12px;
    background: #fff;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
    position: relative;
    padding-right: 50px; /* é¢„ç•™åˆ‡æ¢æŒ‰é’®ç©ºé—´ */
}

.location-inputs {
    display: flex;
    flex-direction: column;
}

.location-inputs .location-item {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 14px 12px 14px 16px;
    border: none;
    background: transparent;
}

.location-item i {
    flex-shrink: 0;
    font-size: 14px;
}

.start-icon {
    color: #007bff;
}

.end-icon {
    color: #ff4444;
    font-size: 14px;
}

.location-item input {
    flex: 1;
    border: none;
    background: transparent;
    font-size: 14px;
    outline: none;
    color: #333;
    padding-right: 8px;
}

.location-item input::placeholder {
    color: #999;
}

/* â€œæˆ‘çš„ä½ç½®â€å ä½ç¬¦è“è‰² */
#start-location::placeholder {
    color: #2A86FF;
}

.divider-line {
    display: flex;
    align-items: center;
    padding: 0 12px 0 16px;
    gap: 10px;
}

.divider-line::before {
    content: '';
    flex: 1;
    height: 1px;
    background: #e6e9ef;
}

/* è®©é€”å¾„ç‚¹çš„ä¸‹åˆ’çº¿ä¸â€œæˆ‘çš„ä½ç½®â€åˆ†éš”çº¿ç­‰é•¿ï¼?
   ä½¿ç”¨ä¸åˆ†éš”çº¿ç›¸åŒçš„å·¦å³å†…è¾¹è·ï¼?6px å·¦ï¼Œ12px å³ï¼‰ç»˜åˆ¶ä¼ªå…ƒç´ ä¸‹åˆ’çº¿ */
.waypoint-row::after {
    content: '';
    position: absolute;
    left: 16px;
    right: 12px;
    bottom: 0;
    height: 1px;
    background: #e6e9ef;
}

.picker-divider-line::before {
    content: '';
    flex: 1;
    height: 1px;
    background: #e6e9ef;
}

.picker-waypoint-row::after {
    content: '';
    position: absolute;
    left: 16px;
    right: 12px;
    bottom: 0;
    height: 1px;
    background: #e6e9ef;
}

/* åˆ‡æ¢æŒ‰é’® - åœ¨æ¨ªçº¿å³ä¾?*/
.swap-btn {
    width: 38px;
    height: 38px;
    flex-shrink: 0;
    background: transparent;
    border: none;
    padding: 0;
    border-radius: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: all 0.2s ease;
    position: absolute; /* å›ºå®šåœ¨è¾“å…¥ç›’å­å³ä¾§ä¸­éƒ?*/
    right: 12px;
    top: 50%;
    transform: translateY(-50%);
    z-index: 2;
}

.swap-btn:hover {
    transform: translateY(-50%) scale(1.1);
}

.swap-btn:active {
    transform: translateY(-50%) scale(0.95);
}

.swap-btn img {
    width: 100%;
    height: 100%;
    object-fit: contain;
}

.swap-btn img {
    width: 18px;
    height: 18px;
    object-fit: contain;
}

.add-waypoint {
    position: absolute;
    right: 0; /* è´´ç€å³è¾¹ç¼?*/
    width: 12%; /* é€”å¾„ç‚¹æŒ‰é’®åŒºåŸŸå  12% */
    top: 20px;
    bottom: 20px;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 4px;
    z-index: 1;
}

.add-btn {
    width: 46px; /* å›ºå®šå®½åº¦ */
    height: 46px; /* å›ºå®šé«˜åº¦ */
    border-radius: 50%;
    background: transparent;
    border: none;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: all 0.3s ease;
}

.add-btn:hover {
    transform: scale(1.1);
}

.add-btn:active {
    transform: scale(0.95);
}

.add-btn i {
    color: #666;
    font-size: 18px;
}

.add-btn img {
    width: 80%; /* ç›¸å¯¹äºæŒ‰é’®å¤§å°?*/
    height: 80%;
    object-fit: contain;
}

.waypoint-label {
    font-size: 12px; /* å›ºå®šå­—å· */
    color: #143662;
    white-space: nowrap;
}

/* é€”ç»ç‚¹å®¹å™?*/
.waypoints-container {
    margin-top: 0;
    display: flex;
    flex-direction: column;
    gap: 0; /* ä¸èµ·ç‚?ç»ˆç‚¹è¡Œä¿æŒä¸€è‡´çš„ç´§å‡‘é—´è· */
}

.waypoint-row {
    display: flex;
    align-items: center;
    gap: 8px;
    position: relative; /* ç”¨ä¼ªå…ƒç´ ç»˜åˆ¶ä¸åˆ†éš”çº¿ç­‰é•¿çš„ä¸‹åˆ’çº¿ */
}

.waypoint-row .location-item {
    flex: 1;
    padding: 14px 12px 14px 16px; /* ä¸èµ·ç‚?ç»ˆç‚¹ä¸€è‡?*/
    border-bottom: none; /* ç”±çˆ¶çº§æ§åˆ¶ä¸‹åˆ’çº¿ */
}

/* åˆ é™¤é€”å¾„ç‚¹æŒ‰é’?*/
.remove-waypoint-btn {
    width: 28px;
    height: 28px;
    border: none;
    background: transparent;
    color: #999;
    border-radius: 50%;
    font-size: 16px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
}

.remove-waypoint-btn:hover {
    color: #ff4444;
    transform: scale(1.1);
}

.remove-waypoint-btn:active {
    transform: scale(0.9);
}

/* å…¨å±é€‰æ‹©é¢æ¿ */
.point-picker-panel {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: white;
    z-index: 200;
    display: none;
    flex-direction: column;
    max-width: 480px;
    margin: 0 auto;
}

.point-picker-panel.active {
    display: flex;
}

/* é¢æ¿å†…å®¹åŒ?*/
.picker-content {
    flex: 1;
    display: flex;
    flex-direction: column;
    padding: 20px;
    overflow-y: auto;
    gap: 20px;
    /* éšè—æ»šåŠ¨æ?*/
    scrollbar-width: none; /* Firefox */
    -ms-overflow-style: none; /* IE and Edge */
}

/* å³ä¾§æ‚¬æµ®â€œæ·»åŠ é€”å¾„ç‚¹â€ä¸å†ä¾µå å†…å®¹å®½åº¦ï¼Œä¿æŒå†…å®¹æ»¡è¡Œå±•ç¤º */
/* å½“å³ä¾§æ‚¬æµ®æŒ‰é’®å±•ç¤ºæ—¶ï¼Œä»…å¯¹è¾“å…¥å®¹å™¨å¢åŠ é¢å¤–çš„å³ä¾§ç•™ç™½ï¼Œé¿å…ä¸äº¤æ¢æŒ‰é’®/æ–‡æœ¬é‡å  */
.picker-content.has-right-add .picker-location-inputs-wrapper {
    padding-right: 120px; /* é¢„ç•™å³ä¾§æ‚¬æµ®æ§ä»¶å®½åº¦ */
}

/* has-right-add çŠ¶æ€ä¸‹ï¼Œäº¤æ¢æŒ‰é’®å·¦ç§»ï¼Œé¿å…ä¸å³ä¾§æ‚¬æµ®æ§ä»¶é‡å?*/
.picker-content.has-right-add .picker-swap-btn {
    right: 64px;
}

.picker-content::-webkit-scrollbar {
    display: none; /* Chrome, Safari, Opera */
}

/* è·¯çº¿è§„åˆ’å¡ç‰‡ */
.picker-route-card {
    background: #FFFFFF;
    border-radius: 12px;
    padding: 16px 70px 16px 16px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
    border: 1px solid #e6e9ef;
}

.picker-route-selector {
    display: flex;
    flex-direction: column; /* æ”¹ä¸ºçºµå‘å †å ï¼šæ·»åŠ é€”å¾„ç‚¹æ˜¾ç¤ºåœ¨è¾“å…¥åŒºåŸŸä¸‹æ–¹ */
    align-items: stretch;
    gap: 8px;
    position: relative;
}

.picker-location-inputs-wrapper {
    flex: 1;
    border: 1px solid #e6e9ef;
    border-radius: 12px;
    background: #fff;
    position: relative; /* è®©åˆ‡æ¢æŒ‰é’®ä»¥æ•´ä¸ªç›’å­ä¸ºå‚ç…§å±…ä¸­å®šä½?*/
    padding-right: 56px; /* é¢„ç•™æŒ‰é’®ç©ºé—´ */
    margin-bottom: 8px; /* ç§»é™¤æœ€å¤–å±‚å¡ç‰‡åï¼Œå¢åŠ ä¸ä¸‹æ–¹å…ƒç´ é—´è·?*/
}

.picker-location-inputs {
    display: flex;
    flex-direction: column;
}

.picker-location-row {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 14px 12px 14px 16px;
    border: none;
    background: transparent;
}

.picker-start-icon {
    color: #007bff;
    font-size: 14px;
    flex-shrink: 0;
}

.picker-end-icon {
    color: #ff4444;
    font-size: 14px;
    flex-shrink: 0;
}

.picker-location-row input {
    flex: 1;
    border: none;
    background: transparent;
    font-size: 14px;
    outline: none;
    color: #333;
    padding-right: 8px;
}

.picker-location-row input::placeholder {
    color: #999;
}

/* ç‚¹ä½é€‰æ‹©é¡µé¢â€œæˆ‘çš„ä½ç½®â€å ä½ç¬¦è“è‰² */
#picker-start-location::placeholder { color: #999; }

.picker-divider-line {
    display: flex;
    align-items: center;
    padding: 0 12px 0 16px;
    gap: 10px;
}

.picker-divider-line::before {
    content: '';
    flex: 1;
    height: 1px;
    background: #e6e9ef;
}

.picker-swap-btn {
    width: 38px;
    height: 38px;
    flex-shrink: 0;
    background: transparent;
    border: none;
    padding: 0;
    border-radius: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: all 0.2s ease;
    position: absolute; /* å›ºå®šåœ¨è¾“å…¥ç›’å­å³ä¾§ä¸­éƒ?*/
    right: 12px;
    top: 50%;
    transform: translateY(-50%);
    z-index: 2;
}

.picker-swap-btn:hover {
    transform: translateY(-50%) scale(1.1);
}

.picker-swap-btn:active {
    transform: translateY(-50%) scale(0.95);
}

.picker-swap-btn img {
    width: 18px;
    height: 18px;
    object-fit: contain;
}

.picker-add-waypoint {
    position: static;            /* ä¸å†æ‚¬æµ®åœ¨å³ä¾?*/
    right: auto;
    top: auto;
    transform: none;
    display: flex;               /* å·¦ä¾§â€œæ·»åŠ é€”å¾„ç‚¹â€?+ å³ä¾§â€œå®Œæˆâ€?*/
    flex-direction: row;
    align-items: center;
    justify-content: space-between; /* å³ä¾§å®ŒæˆæŒ‰é’®åœ¨æœ€å³è¾¹ */
    gap: 8px;
    padding-left: 4px;           /* ä¸è¾“å…¥å†…å®¹è½»å¾®å¯¹é½?*/
    margin-top: 8px;             /* ä¸è¾“å…¥å¡ç‰‡ä¿æŒé—´è·?*/
}

.picker-add-left { /* å·¦ä¾§ï¼ˆå›¾æ ?æ–‡æ¡ˆï¼?*/
    display: flex;
    flex-direction: row;
    align-items: center;
    gap: 8px;
}

/* å³ä¾§çš„å®ŒæˆæŒ‰é’®ï¼ˆè¦æ±‚çš„é…è‰²ä¸åœ†è§’ï¼?*/
.picker-add-complete-btn {
    background: #2A86FF;
    color: #fff;
    border: none;
    border-radius: 999px; /* ç­‰åŒäº?999px 999px 999px 999px */
    width: 103px;
    height: 30px;
    padding: 0;
    font-size: 14px;
    font-weight: 600;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    box-shadow: 0 4px 12px rgba(42,134,255,0.25);
}

.picker-add-complete-btn:active {
    transform: translateY(1px);
    box-shadow: 0 2px 8px rgba(42,134,255,0.25);
}

.picker-add-btn {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    background: transparent;
    border: none;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: all 0.3s ease;
}

.picker-add-btn:hover {
    transform: scale(1.1);
}

.picker-add-btn:active {
    transform: scale(0.95);
}

.picker-add-btn i {
    color: #666;
    font-size: 18px;
}

.picker-add-btn img {
    width: 32px;
    height: 32px;
    object-fit: contain;
}

.picker-waypoint-label {
    font-size: 12px;
    color: #143662;
}

/* ä¸‹æ–¹â€œæ·»åŠ é€”å¾„ç‚¹â€æ–‡æ¡ˆï¼ˆä¸¤è¡Œï¼?*/
.picker-labels {
    display: flex;
    flex-direction: column;
    line-height: 1;
}

.picker-add-label {
    width: 62px;
    height: 14px;
    font-family: "OPPO Sans 4.0", "OPPO Sans 40", -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'PingFang SC', 'Helvetica Neue', Arial, sans-serif;
    font-weight: 400;
    font-size: 12px;
    color: #143662;
    line-height: 14px;
    text-align: left;
    font-style: normal;
    text-transform: none;
}

.picker-add-hint {
    margin-top: 2px;
    width: 70px;
    height: 8px;
    font-size: 8px;
    color: rgba(35,124,243,0.6);
    line-height: 8px;
    text-align: left;
    font-style: normal;
    text-transform: none;
    font-weight: 400;
    white-space: nowrap; /* ä¸€è¡Œæ˜¾ç¤?*/
}

/* è·¯çº¿è§„åˆ’é¡µå³ä¾§æ‚¬æµ®çš„æ·»åŠ é€”å¾„ç‚¹æ§ä»¶ï¼ˆå½“ä»é¦–é¡µç‚¹å‡»èµ·ç‚¹/ç»ˆç‚¹è¿›å…¥æ—¶æ˜¾ç¤ºï¼‰ */
.picker-add-waypoint-right {
    position: absolute;
    right: 12px; /* æ”¾å…¥å¯è§†åŒºåŸŸå†…ï¼Œä¸å†å‹ç¼©å†…å®¹å®½åº¦ */
    top: 50%;
    transform: translateY(-50%);
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 4px;
    flex-shrink: 0;
    z-index: 3;
}

.picker-add-waypoint-right .picker-waypoint-label {
    font-size: 12px;
    color: #666;
}

/* é€”ç»ç‚¹å®¹å™?*/
.picker-waypoints-container {
    display: flex;
    flex-direction: column;
    margin-top: 0;
}

.picker-waypoint-row {
    display: flex;
    align-items: center;
    gap: 8px;
    margin-top: 0; /* ä¸å…¶ä»–è¾“å…¥è¡Œä¸€è‡?*/
    position: relative; /* ç”¨ä¼ªå…ƒç´ ç»˜åˆ¶ä¸åˆ†éš”çº¿ç­‰é•¿çš„ä¸‹åˆ’çº¿ */
}

.picker-waypoint-row .picker-location-row {
    flex: 1;
    /* ç§»é™¤æ–¹æ¡†æ ·å¼ï¼Œä¿æŒä¸èµ·ç‚¹/ç»ˆç‚¹ç›¸åŒçš„è¡Œæ ·å¼ */
    background: transparent;
    border: none;
    border-radius: 0;
    padding: 14px 12px 14px 16px; /* ä¸?.picker-location-row ä¸€è‡?*/
    box-shadow: none;
}

.picker-waypoint-row .picker-location-row i {
    color: #FF9800;
}

.picker-remove-waypoint-btn {
    width: 32px;
    height: 32px;
    background: transparent;
    border: none;
    color: #999;
    font-size: 18px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.2s ease;
    flex-shrink: 0;
}

.picker-remove-waypoint-btn:hover {
    color: #ff4444;
    transform: scale(1.1);
}

.picker-remove-waypoint-btn:active {
    transform: scale(0.9);
}

/* å®ŒæˆæŒ‰é’® */
.picker-complete-btn {
    width: 100%;
    height: 40px;
    border: none;
    border-radius: 26px;
    font-size: 16px;
    font-weight: 600;
    cursor: pointer;
    background: linear-gradient(90deg, #2A86FF 0%, #2A86FF 100%);
    color: white;
    box-shadow: 0 4px 12px rgba(42, 134, 255, 0.25);
    transition: all 0.3s ease;
    flex-shrink: 0;
}

/* è·¯çº¿è§„åˆ’é¡µï¼šç›®çš„åœ°ä¸‹æ–¹çš„å†…è”å®ŒæˆæŒ‰é’®ï¼ˆè“è‰²ï¼‰ */
.picker-inline-complete-btn {
    height: 32px;
    padding: 0 14px;
    border: none;
    border-radius: 16px;
    background: #2A86FF;
    color: #fff;
    font-size: 14px;
    font-weight: 600;
    cursor: pointer;
    box-shadow: 0 4px 12px rgba(42,134,255,0.25);
    flex-shrink: 0;
}

.picker-inline-complete-btn:active {
    transform: translateY(1px);
    box-shadow: 0 2px 8px rgba(42,134,255,0.25);
}

/* å†…è”ç¼–è¾‘è¡Œå®¹å™¨ï¼ˆä¸å…¶ä»–è¡Œå¯¹é½ï¼?*/
.picker-inline-waypoint-row {
    display: flex;
    align-items: center;
    gap: 8px;
    position: relative;
}

.picker-complete-btn:active {
    transform: translateY(1px);
    box-shadow: 0 2px 8px rgba(42, 134, 255, 0.25);
}

.picker-complete-btn:disabled {
    background: #E0E0E0;
    color: #BDBDBD;
    box-shadow: none;
    cursor: not-allowed;
}

/* åˆ†ç±»æ ‡ç­¾åŒºåŸŸ */
.picker-categories {
    display: flex;
    flex-direction: column;
    gap: 16px;
}

.picker-category-section {
    display: flex;
    flex-direction: column;
    gap: 10px;
}

.picker-category-title {
    font-size: 14px;
    font-weight: 600;
    color: #000000 ;
    padding-left: 4px;
}

.picker-category-tags {
    display: flex;
    flex-wrap: wrap; /* æ ‡ç­¾è‡ªåŠ¨æ¢è¡Œä»¥å æ»¡ä¸€è¡?*/
    gap: 8px;
    overflow-x: visible; /* ä¸ä½¿ç”¨æ¨ªå‘æ»šåŠ¨ï¼Œä¿æŒæ»¡è¡Œå¸ƒå±€ */
}


.picker-tag {
    display: inline-block;
    padding: 8px 16px;
    background: rgba(42, 134, 255, 0.10);
    border-radius: 4px 4px 4px 4px;
    font-size: 12px;
    color: rgba(20, 54, 98, 0.50);
    cursor: pointer;
    transition: all 0.2s ease;
    white-space: nowrap;
    flex-shrink: 0;
}

.picker-tag:hover {
    background: #2A86FF;
    border-color: #2A86FF;
    color: #ffffff;
}

.picker-tag:active {
    transform: scale(0.95);
}

/* åœ°ç‚¹åˆ—è¡¨ */
.picker-location-list {
    display: flex;
    flex-direction: column;
    gap: 1px;
    background: #f0f0f0;
    border-radius: 8px;
    overflow: hidden;
    max-height: 400px;
    overflow-y: auto;
    /* éšè—æ»šåŠ¨æ?*/
    scrollbar-width: none; /* Firefox */
    -ms-overflow-style: none; /* IE and Edge */
}

.picker-location-list::-webkit-scrollbar {
    display: none; /* Chrome, Safari, Opera */
}

.picker-location-item {
    display: flex;
    align-items: center;
    padding: 14px 16px;
    background: white;
    cursor: pointer;
    gap: 12px;
    transition: background-color 0.2s ease;
}

.picker-location-item:hover {
    background-color: #f8f9fa;
}

.picker-location-item i {
    font-size: 16px;
    color: #666;
    width: 20px;
    text-align: center;
    flex-shrink: 0;
}

.picker-location-item .fa-location-arrow {
    color: #007bff;
}

/* ä½¿ç”¨å›¾ç‰‡æ›¿æ¢â€œæˆ‘çš„ä½ç½®â€å›¾æ ?*/
.picker-location-item .icon-my-location {
    width: 18px;
    height: 18px;
    border-radius: 0px;
    border: 0px solid #143662;
    object-fit: contain;
    flex-shrink: 0;
    display: inline-block;
}

.picker-location-item .fa-clock {
    color: #999;
}

/* å†å²è®°å½•é¡¹å›¾æ ‡ï¼ˆæ›¿æ¢æ—¶é’Ÿä¸ºå›¾ç‰‡ï¼‰ */
.picker-location-item .icon-history-location {
    width: 18px;
    height: 18px;
    object-fit: contain;
    flex-shrink: 0;
    display: inline-block;
}

.picker-location-text {
    flex: 1;
    font-size: 14px;
    color: #333;
    font-weight: 500;
}

.picker-location-info {
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: 4px;
}

.picker-location-name {
    font-size: 14px;
    color: #333;
    font-weight: 500;
}

.picker-location-desc {
    font-size: 12px;
    color: #999;
}

.picker-add-icon {
    width: 18px;
    height: 18px;
    border: none;
    background-color: transparent;
    background-image: url('../images/å·¥åœ°æ•°å­—å¯¼èˆªå°ç¨‹åºåˆ‡å›?å¸æœº/2X/å¯¼èˆª/æ·»åŠ åœ°ç‚¹.png');
    background-repeat: no-repeat;
    background-position: center;
    background-size: contain;
    border-radius: 0;
    cursor: pointer;
    display: inline-block;
    flex-shrink: 0;
    transition: transform 0.2s ease;
    padding: 0;
    font-size: 0; /* éšè—å¯èƒ½çš„æ–‡æœ¬å†…å®?*/
}

.picker-add-icon:hover { transform: scale(1.1); }

.picker-add-icon:active { transform: scale(0.95); }

.waypoint-row {
    display: flex;
    align-items: center;
    padding: 0; /* ä¸?location-item è¡Œä¸€è‡´ï¼Œç”±å­é¡¹æ§åˆ¶å†…è¾¹è· */
    gap: 8px;
    position: relative; /* ç”¨ä¼ªå…ƒç´ ç»˜åˆ¶ä¸åˆ†éš”çº¿ç­‰é•¿çš„ä¸‹åˆ’çº¿ */
}

.waypoint-actions {
    display: flex;
    gap: 8px;
}

.remove-waypoint-btn {
    width: 24px;
    height: 24px;
    border: none;
    background: #ff4444;
    color: white;
    border-radius: 12px;
    font-size: 14px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
}

/* å¯¼èˆªæ“ä½œæŒ‰é’® */
.navigation-actions {
    display: flex;
    gap: 12px;
    margin-top: 16px;
    padding-top: 16px;
    border-top: 1px solid #f0f0f0;
}

.nav-btn {
    flex: 1;
    padding: 12px 16px;
    border: none;
    border-radius: 8px;
    font-size: 16px;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.3s ease;
}

.route-btn {
    background-color: #007aff;
    color: white;
}

.route-btn:hover {
    background-color: #0056b3;
}

.route-btn:disabled {
    background-color: #e0e0e0;
    color: #999;
    cursor: not-allowed;
}

.start-nav-btn {
    background-color: #34c759;
    color: white;
}

.start-nav-btn:hover {
    background-color: #28a745;
}

.start-nav-btn:disabled {
    background-color: #e0e0e0;
    color: #999;
    cursor: not-allowed;
}

/* åº•éƒ¨å¯¼èˆª */
.bottom-nav {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    z-index: 100;
    background: white;
    display: flex;
    justify-content: space-around;
    padding: 10px 0;
    box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.1);
    height: 60px;
    pointer-events: auto;
    width: 100%;
    max-width: 480px; /* é™åˆ¶æœ€å¤§å®½åº?*/
    margin: 0 auto; /* å±…ä¸­ */
}

.nav-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    flex: 1;
    cursor: pointer;
    padding: 8px;
    pointer-events: auto;
}

.nav-icon-img {
    width: 24px;
    height: 24px;
    margin-bottom: 4px;
}

.nav-text {
    font-size: 12px;
    color: #666;
    transition: color 0.3s ease;
}

.nav-item.active .nav-text {
    color: #5BA8E3;
    font-weight: 500;
}

.nav-icon {
    font-size: 20px;
    margin-bottom: 4px;
}

/* åœ°å›¾æ§åˆ¶æŒ‰é’®ç»?*/
.map-controls {
    position: absolute;
    bottom: 240px;
    right: 20px;
    z-index: 90;
    display: flex;
    flex-direction: column;
    gap: 10px;
}

.control-btn {
    width: 48px;
    height: 48px;
    background: rgba(255, 255, 255, 0.95);
    border: none;
    border-radius: 12px;
    font-size: 20px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 0 2px 12px rgba(0, 0, 0, 0.15);
    transition: all 0.3s ease;
    backdrop-filter: blur(10px);
}

.control-btn:hover {
    background: rgba(255, 255, 255, 1);
    transform: translateY(-2px);
    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.2);
}

.control-btn:active {
    transform: translateY(0);
    transition: all 0.1s ease;
}


/* å“åº”å¼è°ƒæ•?- ä¿æŒä¸€è‡´çš„è§†è§‰æ•ˆæœ */
/* é’ˆå¯¹å°é«˜åº¦è®¾å¤‡ï¼ˆå¦‚æ¨ªå±æ‰‹æœºã€å°å±æ‰‹æœºï¼‰ */
@media (max-height: 700px) {
    .map-controls {
        bottom: 180px;
    }
}

/* é’ˆå¯¹è¶…å°é«˜åº¦è®¾å¤‡ï¼ˆå¦‚æ¨ªå±æ¨¡å¼ï¼?*/
@media (max-height: 500px) {
    .search-container {
        top: 10px;
        left: 10px;
        right: 10px;
    }

    .map-controls {
        bottom: 150px;
        right: 15px;
    }

    .control-btn {
        width: 40px;
        height: 40px;
    }
}

/* é’ˆå¯¹çª„å±è®¾å¤‡ï¼ˆå¦‚æŠ˜å å±ã€å°å±æ‰‹æœºï¼‰ */
@media (max-width: 360px) {
    .add-btn {
        width: 40px;
        height: 40px;
    }
    
    .waypoint-label {
        font-size: 10px;
    }
}

/* é’ˆå¯¹å®½å±è®¾å¤‡ï¼ˆæ¨ªå±æ¨¡å¼ï¼‰ */
@media (orientation: landscape) {
    .container {
        max-width: 480px; /* ä¿æŒ 480px é™åˆ¶ */
    }

    .status-bar {
        padding: 5px 15px;
        height: 36px;
    }

    .header {
        padding: 8px 15px;
        height: 44px;
    }

    .search-container {
        top: 10px;
        left: 10px;
        right: 10px;
        padding: 8px 12px;
    }

    .map-controls {
        bottom: 20px;
        right: 15px;
        flex-direction: row;
        gap: 8px;
    }

    .control-btn {
        width: 40px;
        height: 40px;
        font-size: 16px;
    }

    .bottom-card {
        bottom: 40px;
        left: 0;
        right: 0;
        border-radius: 0;
        padding: 10px 20px; /* ä¿æŒå·¦å³ 20px */
        max-height: 40vh;
        overflow-y: auto;
        max-width: 480px; /* é™åˆ¶æœ€å¤§å®½åº?*/
        margin: 0 auto; /* å±…ä¸­ */
    }

    /* ä¿æŒé»˜è®¤çš?60px é«˜åº¦ */
}

/* é’ˆå¯¹å¸¦åˆ˜æµ·æˆ–æ‰“å­”å±çš„æ‰‹æœº */
@supports (padding: max(0px)) {
    .status-bar {
        padding-top: max(8px, env(safe-area-inset-top));
        height: max(44px, 44px + env(safe-area-inset-top));
    }

    .header {
        padding-top: max(12px, env(safe-area-inset-top));
    }

    .bottom-nav {
        padding-bottom: max(8px, env(safe-area-inset-bottom));
        width: 100%;
    }

    .bottom-card {
        bottom: calc(60px + env(safe-area-inset-bottom));
    }

    .map-controls {
        bottom: max(240px, 240px + env(safe-area-inset-bottom));
    }
}

/* å¤§å±è®¾å¤‡å¯¼èˆªæ ä¼˜åŒ?- å·²ç§»é™¤ï¼Œä¿æŒ 480px æ‰‹æœºæ ·å¼ */

/* é€‚é…è¶…é•¿å±è®¾å¤‡ï¼ˆå¦‚å…¨é¢å±æ‰‹æœºï¼?*/
@media (aspect-ratio: 2/3) {
    .map-controls {
        bottom: 220px;
    }
}

@media (aspect-ratio: 9/19.5) or (aspect-ratio: 9/20) {
    .map-controls {
        bottom: 250px;
    }
}

/* KMLæ–‡ä»¶å¯¼å…¥æ ·å¼ */
.kml-layer-list {
    max-height: 200px;
    overflow-y: auto;
    margin-top: 10px;
    border: 1px solid #e0e0e0;
    border-radius: 8px;
    padding: 10px;
}

.kml-layer-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 8px 12px;
    border-bottom: 1px solid #f0f0f0;
    cursor: pointer;
}

.kml-layer-item:last-child {
    border-bottom: none;
}

.kml-layer-item:hover {
    background-color: #f8f9fa;
}

.kml-layer-info {
    flex: 1;
}

.kml-layer-name {
    font-weight: 500;
    color: #333;
    font-size: 14px;
}

.kml-layer-type {
    font-size: 12px;
    color: #666;
    margin-top: 2px;
}

.kml-layer-actions {
    display: flex;
    gap: 8px;
}

.kml-remove-btn {
    background: #ff4444;
    color: white;
    border: none;
    border-radius: 4px;
    width: 24px;
    height: 24px;
    font-size: 12px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
}

.kml-toggle-btn {
    background: #007bff;
    color: white;
    border: none;
    border-radius: 4px;
    padding: 4px 8px;
    font-size: 12px;
    cursor: pointer;
}

/* KMLå¯¼å…¥å¼¹çª— */
.kml-import-modal {
    max-width: 400px;
}

.kml-drop-zone {
    border: 2px dashed #ddd;
    border-radius: 8px;
    padding: 30px;
    text-align: center;
    cursor: pointer;
    transition: all 0.3s ease;
    margin-bottom: 15px;
}

.kml-drop-zone:hover {
    border-color: #007bff;
    background-color: #f8f9fa;
}

.kml-drop-zone.dragover {
    border-color: #007bff;
    background-color: #e3f2fd;
}

.kml-drop-icon {
    font-size: 48px;
    color: #999;
    margin-bottom: 10px;
}

.kml-drop-text {
    color: #666;
    margin-bottom: 5px;
}

.kml-drop-hint {
    font-size: 12px;
    color: #999;
}

.kml-file-info {
    background: #f8f9fa;
    border-radius: 6px;
    padding: 10px;
    margin-top: 10px;
    font-size: 14px;
}

.kml-import-actions {
    display: flex;
    gap: 10px;
    margin-top: 15px;
}

.kml-import-btn {
    flex: 1;
    padding: 10px;
    border: none;
    border-radius: 6px;
    background: #007bff;
    color: white;
    cursor: pointer;
    font-size: 14px;
}

.kml-import-btn:disabled {
    background: #e0e0e0;
    color: #999;
    cursor: not-allowed;
}

.kml-cancel-btn {
    flex: 1;
    padding: 10px;
    border: 1px solid #ddd;
    border-radius: 6px;
    background: white;
    color: #666;
    cursor: pointer;
    font-size: 14px;
}
